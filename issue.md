# m3m

Система которая позволяет создавать мини сервисы/воркеры на JS и запускать их собирая логи, статистику, данные, хранить модели данных в БД.

Система должна быть расширяема `*.so` плагинами которые расширяют RuntimeJS API.

## Стек

- Golang
  - `gingonic`
  - `uber.FX`
  - `slog`
  - `spf13/cast`
  - `github.com/dop251/goja`
  - `jwt`
  - `github.com/spf13/viper`
  - `github.com/golang-jwt/jwt/v5`
- UI
  - `Monaco Editor`
  - `Vite`
  - `React`
  - `Shadcn`
    - https://ui.shadcn.com/docs/registry/mcp (Нужно добавить MCP)
    - https://ui.shadcn.com/docs/components
- MongoDB

## Подробное описание

### Администраторы/Пользователи

У системы есть администраторы, первого root пользователя создаем через `cli` -> `>_ m3m new-admin {email} {password}`.
Root пользователь имеет доступ ко всем проектам, и может добавлять администраторов в систему. При добавлении можно назначить права:

- Создание проектов
- Управление пользователями (добавление/удаление/блокировка/редактирование/доступ к проектоам)
- Доступ к проектам
  - Список созданных проектов

Самый первый root пользователь, неудаляемый, им может управлять только он сам.

Пользователи могут менять себе пароль, имя, аватарку.

### Цели

В система можно настроить глобальные цели, которые будут доступны в runtime проектов

- Название
- Slug (`{goal-slug}`)
- Цвет (выбор или Нет или из 16 установленных в системе)
- Выбор проектов которым доступно запись в цель (`one to many`)
- Тип
  - Счетчик (просто увеличиваем значение)
  - Счетчик в разрезе дня (значение будет сегментироваться в разрезе дня `2025-01-01 | value = 123`)
- Описание
- `project_ref` - если есть связь с проектом то это цель проекта, если `null` то глобальная 


### Проекты

Когда пользователь создает проект, ему нужно присвоить

- Имя
- Slug (уник)
- Цвет (выбор или Нет или из 16 установленных в системе)

#### Настройки

- Название проекта
- Цвет
- slug (уник)
- Участники проекта (пользователи с доступом к нему, можно дать доступ или отозвать)
- Приватный API ключ (можно обновить)
- Удалить проект (красная зона)


#### Цели

У каждого проекта есть справочник Целей (Добавление/Редактирование/Список/Удаление).
Эти цели будут использоваться для аналитики в проекте.

Ну уровне БД это одна таблица с глобальными целями.

- Название
- Slug (`{project-slug}-{goal-slug}`)
- Цвет (выбор или Нет или из 16 установленных в системе)
- Тип
    - Счетчик
    - Счетчик в разрезе дня
- Описание 

#### Окружение


#### Цели



























